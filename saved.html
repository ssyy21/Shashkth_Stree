<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Articles</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">

    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/favicon_io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon_io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon_io/favicon-16x16.png">
<link rel="manifest" href="images/favicon/favicon_io/site.webmanifest">

    <style>
        /*hover transition*/
        .read-more,.article-card{
            transition: transform 0.3s ease;
        }
        .read-more:hover,.article-card:hover{
            transform: scale(1.1);
        }
      .breadcrumb-container {
        padding-top: 20px;
        padding-bottom: 0;
        background-color: #fff;
      }
      .breadcrumb {
        background-color: transparent;
        padding: 0;
        margin-bottom: 0;
      }
      .breadcrumb-item a {
        color: #810CA8;
        text-decoration: none;
      }
      .breadcrumb-item a:hover {
        color: #C147E9;
      }
      .breadcrumb-item.active {
        color: #6c757d;
      }
      .breadcrumb-item + .breadcrumb-item::before {
        color: #810CA8;
        content: "›";
      }

      .container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
      }
      @media (min-width: 576px) {
        .container {
          max-width: 540px;
        }
      }
      @media (min-width: 768px) {
        .container {
          max-width: 720px;
        }
      }
      @media (min-width: 992px) {
        .container {
          max-width: 960px;
        }
      }
      @media (min-width: 1200px) {
        .container {
          max-width: 1140px;
        }
      }

.lang-toggle-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1001;
  display: flex;
  align-items: center;
  background: #fff;
  border-radius: 25px;
  padding: 5px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.lang-toggle-label {
  margin: 0 5px;
  font-size: 14px;
  font-weight: bold;
  color: #333;
  cursor: pointer;
  user-select: none;
}
.lang-toggle-switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
}
.lang-toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.lang-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 34px;
}
.lang-slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}
input:checked + .lang-slider {
  background-color: #810CA8;
}
input:checked + .lang-slider:before {
  transform: translateX(26px);
}

    </style>

</head>
<body>

    <div id="navbar-container"></div>

    <section class="articles">
        <h1 class="heading">Saved Articles</h1>

        <div id="noSavedArticles" class="container" style="text-align: center; display: none; margin: 20px 0;">
            <p style="font-size: 18px; color: #555;">No saved articles yet. <a href="therapy.html">Browse articles</a> to save some!</p>
        </div>

        <div class="article-container" id="savedArticlesContainer">
            <!-- Saved articles will be dynamically loaded here -->
        </div>
    </section>

<script>
document.addEventListener('DOMContentLoaded', function() {

  // 1️⃣ Load navbar dynamically
  fetch('navbar.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('navbar-container').innerHTML = data;

      // Highlight active nav link
      const currentPage = window.location.pathname.split('/').pop();
      const links = document.querySelectorAll('#navbar-container .nav-link');
      links.forEach(link => {
        if (link.getAttribute('href') === currentPage) {
          link.classList.add('active');
        }
      });

      // Scroll effect on navbar
      const navbar = document.getElementById("navbar");
      window.addEventListener("scroll", function() {
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });

      // Language toggle
      const toggle = document.getElementById('lang-toggle-checkbox');
      const elements = document.querySelectorAll('.lang-toggle');
      const placeholders = document.querySelectorAll('.lang-toggle-placeholder');

      function updateLanguage() {
        const lang = toggle.checked ? 'hi' : 'en';
        elements.forEach(el => {
          const text = el.getAttribute('data-' + lang);
          if (text) {
            if (lang === 'hi' && text.startsWith('[') && text.endsWith(']')) {
              el.innerHTML = text.substring(1, text.length - 1);
            } else {
              el.innerHTML = text;
            }
          }
        });
        placeholders.forEach(el => {
          let text = el.getAttribute('data-' + lang);
          if (text) {
            if (lang === 'hi' && text.startsWith('[') && text.endsWith(']')) {
              text = text.substring(1, text.length - 1);
            }
            el.setAttribute('placeholder', text);
          }
        });
      }

      toggle.addEventListener('change', updateLanguage);
      updateLanguage();
    });

  // 2️⃣ Load and display saved articles
  function getSavedArticles() {
    const saved = localStorage.getItem('savedArticles');
    return saved ? JSON.parse(saved) : [];
  }

  function removeSavedArticle(articleId) {
    const savedArticles = getSavedArticles();
    const filteredArticles = savedArticles.filter(article => article.id !== articleId);
    localStorage.setItem('savedArticles', JSON.stringify(filteredArticles));
    loadSavedArticles(); // Reload the saved articles
  }

  function loadSavedArticles() {
    const savedArticles = getSavedArticles();
    const container = document.getElementById('savedArticlesContainer');
    const noSavedMessage = document.getElementById('noSavedArticles');

    container.innerHTML = '';

    if (savedArticles.length === 0) {
      noSavedMessage.style.display = 'block';
      return;
    }

    noSavedMessage.style.display = 'none';

    savedArticles.forEach(article => {
      const articleCard = document.createElement('div');
      articleCard.className = 'article-card';
      articleCard.innerHTML = `
        <div class="img">
          <img src="${article.imageSrc}" alt="${article.title}">
        </div>
        <div class="article-content">
          <h3>${article.title}</h3>
          <p>${article.description}</p>
          <a href="${article.link}" class="read-more">Read More</a>
          <button class="remove-btn" data-article-id="${article.id}">Remove from Saved</button>
        </div>
      `;
      container.appendChild(articleCard);
    });

    // Add event listeners to remove buttons
    const removeButtons = container.querySelectorAll('.remove-btn');
    removeButtons.forEach(button => {
      button.addEventListener('click', function() {
        const articleId = this.getAttribute('data-article-id');
        removeSavedArticle(articleId);
      });
    });
  }

  // Load saved articles on page load
  loadSavedArticles();

});
</script>

</body>
</html>